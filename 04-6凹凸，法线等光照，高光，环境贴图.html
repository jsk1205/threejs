<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>three测试文件1</title>
		<style type="text/css">
			body{
				margin:0;
				padding: 0;
				overflow: hidden;
			}
		    #can{
					display: block;
				}
		</style>
		<script src="http://www.yanhuangxueyuan.com/versions/threejsR92/build/three.js"></script>
		<script src="http://www.yanhuangxueyuan.com/threejs/examples/js/controls/OrbitControls.js"></script>
	</head>
	<body>
		<canvas id="can"></canvas>
		<script type="text/javascript">
			
			var scene=new THREE.Scene(); //创建场景对象
		
			var geometry=new THREE.PlaneGeometry(200,200)
			// Three.js数据纹理对象DataTexture
			var width = 32; //纹理宽度
			var height = 32; //纹理高度
			var size = width * height; //像素大小
			var data = new Uint8Array(size * 3); //size*3：像素在缓冲区占用空间
			for (let i = 0; i < size * 3; i += 3) {
			  // 随机设置RGB分量的值
			  data[i] = 255 * Math.random()
			  data[i + 1] = 255 * Math.random()
			  data[i + 2] = 255 * Math.random()
			  // 设置透明度分量A
			  data[i + 3] = 255 * 0.5
			}
			
			// 创建数据文理对象   RGB格式：THREE.RGBFormat
			var texture = new THREE.DataTexture(data, width, height, THREE.RGBFormat);
			texture.needsUpdate = true; //纹理更新
			//打印纹理对象的image属性
			// console.log(texture.image);

			
			// 加环境贴图的6张纹理贴图，可以通过CubeTextureLoader类趋势线
			// var loader =new THREE.CubeTextureLoader()
			
			// 所有贴图在同一目录下，可以使用该方法设置共用路径
			// loader.setPath('环境贴图/');
			// 立方体纹理加载器返回立方体纹理对象CubeTexture
			// var CubeTexture = loader.load(['./photo/1.jpg', './photo/2.jpg',  './photo/3.jpg', './photo/8.jpg', '/photo/9.jpg','./photo/6.jpg']);
			// 加载光照贴图
			// var texture  = textureLoader.load('./photo/5.jpg');
			//  加载高光贴图
			// var textureSpecular = textureLoader.load('./photo/5.jpg');
			// 加载颜色纹理贴图
			// var texture = textureLoader.load('./2.jpg')
			//凹凸贴图
			// var textureBump = textureLoader.load('./2.jpg');
			
			// 加载纹理贴图
			// var texture = textureLoader.load('./9.png');
			//法线贴图
			// var textureNormal =textureLoader.load('photo/9.jpg')
			var material = new THREE.MeshPhongMaterial({
				map: texture, //设置环境贴图		
				transparent:true,//允许透明设置
			})
			
			// 创建一个矩形平面网模型，Canvas画布作为矩形网格模型的纹理贴图
			var mesh = new THREE.Mesh(geometry, material);
			scene.add(mesh)
			
			//光源设置
			var point=new THREE.PointLight(0xffffff);
			point.position.set(400,200,300);//光源位置
			scene.add(point);//将光源添加到场景中去
			
			//环境光  依次还有 点光源 平行光 
			var ambient=new THREE.AmbientLight(0x444444);
			scene.add(ambient);
			
			//相机设置
			//相机设置
			var width=window.innerWidth;//窗口宽度
			var height=window.innerHeight;//窗口高度
			var k=width/height ;//宽高比
			var s=200;//3d范围控制系数
			
			//创建相机对象
			var camera=new THREE.OrthographicCamera(-s * k, s * k, s, -s, 1, 1000);
			camera.position.set(200,300,200);//设置相机位置
			camera.lookAt(scene.position);//定义相机的位置与方向 即指向的场景对象
			
			//创建渲染器对象
			var renderer =new THREE.WebGLRenderer();
			renderer.setSize(width,height);//设置渲染区域尺寸
			renderer.setClearColor(0xb9d3ff,1);//设置背景颜色
			document.body.appendChild(renderer.domElement);//body元素中插入canvas对象
			//执行渲染操作  指定场景 相机作为参数
			// renderer.render(scene, camera);
			
			//鼠标操作
			function render() {
			  renderer.render(scene,camera);//执行渲染操作
			}
			render();
			var controls = new THREE.OrbitControls(camera,renderer.domElement);//创建控件对象
			controls.addEventListener('change', render);//监听鼠标、键盘事件
			
		</script>
	</body>
</html>

