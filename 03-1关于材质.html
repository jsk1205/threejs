<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			body{
				margin:0;
				padding: 0;
				overflow: hidden;
			}
		</style>
		<script src="http://www.yanhuangxueyuan.com/versions/threejsR92/build/three.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			var scene=new THREE.Scene()//创建场景
			
			//创建模型
			var geometry =new THREE.BufferGeometry();//创建一个buffer类型几何体对象
			//类型数组创建顶点数据
			//之 自定义几何体
			
			//顶点颜色数据插值计算
			//顶点位置数据  顶点颜色数据
			//顶点位置和顶点颜色 一一对应
		
			var vertices=new Float32Array([
			  0, 0, 0, //顶点1坐标
			  50, 0, 0, //顶点2坐标
			  0, 100, 0, //顶点3坐标
			  0, 0, 10, //顶点4坐标
			  0, 0, 100, //顶点5坐标
			  50, 0, 10, //顶点6坐标
			])
			//创建属性缓冲区域
			var attribue=new THREE.BufferAttribute(vertices,3) ;//三个为一组，表示一个顶点的xyz坐标
			//设置几何体attributes属性的位置属性
			geometry.attributes.position=attribue;
			
			//类型数组创建顶点颜色color数据
			var colors=new Float32Array([
			  1, 0, 0, //顶点1颜色
			  0, 1, 0, //顶点2颜色
			  0, 0, 1, //顶点3颜色
			
			  1, 1, 0, //顶点4颜色
			  0, 1, 1, //顶点5颜色
			  1, 0, 1, //顶点6颜色
			])
			//设置几何体attributes属性颜色color属性
			geometry.attributes.color=new THREE.BufferAttribute(colors,3);
			
			//属性缓冲区对象 BufferAttribute 目的是为了创建各种各样顶点数据 如顶点颜色数据，顶点位置数据
			
			
			//三角面（网格）渲染模式
			//材质对象 
			// var material=new THREE.MeshBasicMaterial({
			// 	color:0x0000ff,
			// 	side:THREE.DoubleSide //两面可见
			// }) 
			// var mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh
			// scene.add(mesh);
			
			//点模型 points
			var material=new THREE.PointsMaterial({
				vertexColors: THREE.VertexColors, //以顶点颜色为准
				
				//材质属性 .vertexColors
				//模型的颜色渲染效果取决于材质属性.color
			
				//关于材质Material
				// 有 点  PointsMaterial 
				// 线 ：基础线材质 LineBasicMaterial 和 虚线材质 LineDashedMaterial
				//wireframe:true 可以将三角形会以线条形式绘制出来
				
				// 网格 ：
				// 精灵Sprite 
				// 自定义着色器 材质
				
				//材质共有属性 私有属性
				// .side 属性 来定义面的渲染方式前面后面 或 双面.
				// .opacity 属性 0.0-1.0 需要设置材质属性transparent值为true
				
				size:10.0 //点对象像素尺寸
			})
			var points=new THREE.Points(geometry,material);//点模型对象
			scene.add(points)
			
			// 线模型 line
			// var material=new THREE.LineBasicMaterial({
			//     color:0xff0000 //线条颜色
			// });//材质对象
			// var line=new THREE.Line(geometry,material);//线条模型对象
			// scene.add(line);//线条对象添加到场景中
			
			//关于光源
			// 环境光  AmbientLight 没有特定方向的光源  主要是改变物体表面的明暗效果
			// 点光源  PointLight 具有方向性 向四周发散所以可设置position 来改变（光线与物体表面的夹角）
			// 平行光  DirectionalLight 需要设置。position和.target 两个属性一起确定平行光方向
			// 聚光灯光源  SpotLight （一个沿着特定方会逐渐发散的光源，照射范围在三维空间中构成一个圆锥体）
			// .angle可设置聚光源发散角度 也是通过位置.position和目标.target两个属性来实现
			
			//关于光 投影计算
			// 一是 设置产生投影的模型对象 mesh.castShadow=true
			// 二是 设置接收投影效果的模型 planeMesh.receiveShadow = true
			// 三是 设置光源对象本身 directionalLight.castShadow = true
			//  设置计算阴影的区域 最好刚好紧密包围在对象周围
			//  计算阴影的区域过大： 模糊 ，过小 ：看不到或显示不完整
			//  如directionalLight.shadow.camera.near /far /left / right /top /bottom= 0.5;
			
			//.castShadow 属性值是布尔值，用来设置 一个模型对象是否在光照下产生投影效果
			//.receiveShadow 布尔值 用来设置一个模型对象是否在光照下接受其它模型的投影效果
			//.shadow 
			// LightShadow 阴影对象基类
			
			//光源对象继承父类Object3D的位置属性.position
			//光源颜色属性.color和强度属性.intensity
			
			// 关于坐标系
			// 分为 世界坐标系 和本地坐标系
			// mesh的 世界坐标系 是mesh位置属性.position和mesh父对象group位置属性.position的累加
			// getWorldPosition()方法获得世界坐标
			// mesh.position()获得本地坐标
			
			// 直线 椭圆 圆弧（ArcCurve） 基类curve
			//曲线Curve方法 
			//.getPoints 是基类curve()的方法 
			// 此方法可以从圆弧线按照一定的细分精度返回沿着圆弧线分布的顶点坐标
			
			//曲线 几何体方法.setFromPoints()
			// 
			
			// 三维样条曲线：样条曲线，贝塞尔曲线
			// CatmullRomCurve3 然后返回更多个顶点，通过返回的顶点数据，构建一个几何体
			//贝塞尔曲线 多了一个控制点的概念
			
			//多个线条组合曲线 CurvePath
			// 
			// 创建组合曲线对象CurvePath
			//var CurvePath = new THREE.CurvePath();
			// 把多个线条插入到CurvePath中
			//CurvePath.curves.push(line1, arc, line2);
			
			
			// 曲线路径管道成型TubeGeometry
			//即通过一条曲线生成一个圆管
			//CatmullRomCurve3  : 3D样条曲线
			//LineCurve3 :直线
			//包含五个参数 path tubularSegments radius rediusSgements closed
			
			//旋转成型  LatheGeometry
			// points       坐标数据组成的数组
			// segments 	圆周方向细分数，默认12
			// phiStart  	开始角度,默认0
			// phiLength  	旋转角度，默认2π
			
			
			//Shape对象和轮廓填充ShapeGeometry
			// shape 可理解为一个需要填充轮廓
			// ShapeGeometry 所谓填充：ShapeGeometry算法利用顶点计算出三角面face3数据填充轮廓
			
			
			//拉伸扫描成型ExtrudeGeometry
			// 构造函数ExtrudeGeometry 和ShapeGeometry 两者都是利用shape对象生成几何体对象，区别在于 ExtrudeGeometry 可利用2d轮廓生成3d模型
			// 
			//拉伸和扫描
			//对于 扫描 而言不需要定义amount属性设置拉伸距离，设置扫描路径即可，定义属性extrudePath（扫描路径THREE.CurvePath，默认Z轴方向）
			// 可以通过样条曲线、贝赛尔曲线构造函数创建不规则曲线扫描轨迹。
			
			
			// 纹理贴图
			// TextureLoader 的load()来加载一张图可以返回一个纹理对象Texture 其可以作为模型材质颜色贴图.map属性的值 即 map: texture,//设置颜色贴图属性值
			// TextureLoader 创建一个纹理加载器对象，可以加载图片作为几何体纹理
			// 材质的颜色贴图属性.map设置后，模型会从纹理贴图上采集像素值，这时候一般来说不需要在设置材质颜色.color。
			// .map贴图之所以称之为颜色贴图就是因为网格模型会获得颜色贴图的颜色值RGB。
			
			//纹理对象 Texture
			//通过图片加载器ImageLoader可以加载一张图片，所谓纹理对象Texture简单地说就是，纹理对象Texture的.image属性值是一张图片。
			
			//创建纹理贴图 
			//a:TextureLoader纹理加载器对象
            //b:网格模型Mesh
			//c:纹理对象Texture
			//d:图片加载器ImageLoader
			//e:纹理贴图
			//f:协作：如何映射
			
			//映射（UV）原理
			
			//数组材质,材质索引.materialIndex
			// 数组材质：多个材质对象构成一个数组作为模型对象的材质。
			// 材质索引.materialIndex:指向数组材质中的材质对象,表达的意思是数组材质中哪一个元素用于渲染该三角形面Face3。
			 
			//纹理对象 之属性
			// 阵列： 默认ClampToEdgeWrapping   RepeatWrapping：阵列  镜像阵列：MirroredRepeatWrapping
			// 偏移
			// 旋转
			
			//法线贴图 凹凸贴图
			//  normalMap: textureNormal//法线贴图  设置深浅程度，默认值(1,1)。 normalScale: new THREE.Vector2(3, 3),
			//  bumpMap:textureBump//凹凸贴图  bumpScale:3,//设置凹凸高度，默认值1
			
			//光照贴图添加阴影 ·lightMap
			// lightMap:textureLight,// 设置光照贴图
			// lightMapIntensity:0.5,//烘培光照的强度. 默认 1.
			
			//高光贴图  .specularMap
			// 不同部位高光程度是不同的,不可能直接通过.specular属性来描述，在这种情况通过高光贴图.specularMap的RGB值来描述不同区域镜面反射的能力
			//  specularMap: textureSpecular, //高光贴图
			 
			//环境贴图  .envMap
			//envMap: CubeTexture, //设置环境贴图 
			
			//纹理对象DataTexture 通过程序创建纹理贴图的每一个像素值
			
			//相机对象
			//视图矩阵.matrixWorldInverse和投影矩阵.projectionMatrix
			//.updateProjectionMatrix ()
			
			//精灵模型粒子系统
			// 1.精灵模型对象Sprite
			
			//光源设置
			var point=new THREE.PointLight(0xffffff);
			point.position.set(400,200,300);//光源位置
			scene.add(point);//将光源添加到场景中去
			
			//环境光  依次还有 点光源 平行光 聚光源
			var ambient=new THREE.AmbientLight(0x444444);
			scene.add(ambient);
			
			
			//相机设置
			var width=window.innerWidth;//窗口宽度
			var height=window.innerHeight;//窗口高度
			var k=width/height ;//宽高比
			var s=200;//3d范围控制系数
			//创建相机对象
			var camera=new THREE.OrthographicCamera(-s * k, s * k, s, -s, 1, 1000);
			camera.position.set(200,300,200);//设置相机位置
			camera.lookAt(scene.position);//定义相机的位置与方向 即指向的场景对象
			
			//创建渲染器对象
			var renderer =new THREE.WebGLRenderer();
			renderer.setSize(width,height);//设置渲染区域尺寸
			renderer.setClearColor(0xb9d3ff,1);//设置背景颜色
			document.body.appendChild(renderer.domElement);//body元素中插入canvas对象
			//执行渲染操作  指定场景 相机作为参数
			renderer.render(scene, camera);
			
			//辅助坐标系
			var axisHelper =new THREE.AxisHelper(250)
			scene.add(axisHelper)
		</script>
	</body>
</html>

