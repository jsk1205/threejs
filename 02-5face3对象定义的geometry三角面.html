<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			body{
				margin:0;
				padding: 0;
				overflow: hidden;
			}
		</style>
		<script src="http://www.yanhuangxueyuan.com/versions/threejsR92/build/three.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			var scene=new THREE.Scene()//创建场景
			// 几何体Geometry 和缓冲类型几何体BufferGeometry 表达含义相同，只是对象结构不同
			//threejs渲染时会把Geometry转化为BufferGeometry在解析几何体顶点数据进行渲染
			
			//Vector3 是threejs的三维向量对象可通过vector3对象表示一个顶点的xyz坐标 顶点法向量
			//Geometry的顶点属性geometry.vertices  对应BufferGeometry.attributes.position  即 顶点位置数据 
			
			//geometry.faces 对应BufferGeometry 的顶点索引属性index  他们都是顶点位置数据的索引值，用来组织网格模型三角形面的绘制
			
			
			//BoxGeometry() 执行此函数会自动生成几何体对象的顶点位置坐标，顶点法向量等数据
			
			//PlaneGeometry() 表示一个矩形平面几何体
			
			//SphereGeometry()
			
			//另外 网络模型mesh和几何体Geometry 都可以实现相同的渲染效果
			//但网络模型mesh的缩放，旋转，位移不会影响几何体的顶点坐标位置，网络模型mesh的变换改变的是模型的本地矩阵，世界矩阵
			
			//创建模型
			// var geometry =new THREE.BufferGeometry();//创建一个buffer类型几何体对象
			var geometry = new THREE.Geometry(); //声明一个几何体对象Geometry
			var p1 = new THREE.Vector3(0, 0, 0); //顶点1坐标
			var p2 = new THREE.Vector3(0, 100, 0); //顶点2坐标
			var p3 = new THREE.Vector3(50, 0, 0); //顶点3坐标
			var p4 = new THREE.Vector3(0, 0, 100); //顶点4坐标
			//创建属性缓冲区域
			// var attribue=new THREE.BufferAttribute(vertices,3) ;//三个为一组，表示一个顶点的xyz坐标
			//设置几何体attributes属性的位置属性
			// geometry.attributes.position=attribue;
			
			geometry.vertices.push(p1,p2,p3,p4);
			
			//face3构造函数创建一个三角面
			var face1=new THREE.Face3(0,1,2);
			//三角面每个顶点的法向量
			var n1=new THREE.Vector3(0,0,-1);//顶点1的法向量
			var n2=new THREE.Vector3(0,0,-1);//顶点2的法向量
			var n3=new THREE.Vector3(0,0,-1);//顶点3的法向量
			
			//设置三角面face3三个顶点的法向量
			face1.vertexNormals.push(n1,n2,n3);
			
			//三角面2
			var face2=new THREE.Face3(0,2,3)
			//设置三角面法向量
			face2.normal=new THREE.Vector3(0,-1,0)
			geometry.faces.push(face1,face2)
			
			// Color对象表示顶点颜色数据
			var color1 = new THREE.Color(0x00ff00); //顶点1颜色——绿色
			var color2 = new THREE.Color(0xff0000); //顶点2颜色——红色
			var color3 = new THREE.Color(0x0000ff); //顶点3颜色——蓝色
			//顶点颜色数据添加到geometry对象
			geometry.colors.push(color1, color2, color3);
			//属性缓冲区对象 BufferAttribute 目的是为了创建各种各样顶点数据 如顶点颜色数据，顶点位置数据
			
			//点模型 points
			var material=new THREE.PointsMaterial({
				vertexColors: THREE.VertexColors, //以顶点颜色为准
				size:10.0 //点对象像素尺寸
			})
			var points=new THREE.Points(geometry,material);//点模型对象
			scene.add(points)
			
			//光源设置
			var point=new THREE.PointLight(0xffffff);
			point.position.set(400,200,300);//光源位置
			scene.add(point);//将光源添加到场景中去
			
			//环境光  依次还有 点光源 平行光 聚光源
			var ambient=new THREE.AmbientLight(0x444444);
			scene.add(ambient);
			
			//相机设置
			var width=window.innerWidth;//窗口宽度
			var height=window.innerHeight;//窗口高度
			var k=width/height ;//宽高比
			var s=200;//3d范围控制系数
			//创建相机对象
			var camera=new THREE.OrthographicCamera(-s * k, s * k, s, -s, 1, 1000);
			camera.position.set(200,300,200);//设置相机位置
			camera.lookAt(scene.position);//定义相机的位置与方向 即指向的场景对象
			
			//创建渲染器对象
			var renderer =new THREE.WebGLRenderer();
			renderer.setSize(width,height);//设置渲染区域尺寸
			renderer.setClearColor(0xb9d3ff,1);//设置背景颜色
			document.body.appendChild(renderer.domElement);//body元素中插入canvas对象
			//执行渲染操作  指定场景 相机作为参数
			renderer.render(scene, camera);
			
			//辅助坐标系
			var axisHelper =new THREE.AxisHelper(250)
			scene.add(axisHelper)
		</script>
	</body>
</html>

